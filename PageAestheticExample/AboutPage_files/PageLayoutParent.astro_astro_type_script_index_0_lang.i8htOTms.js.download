function y(){if(window.initNavCalled)return;window.initNavCalled=!0;const t=document.getElementById("js-mobileNavBtn"),e=document.getElementById("js-mobileNavBtnOpen"),s=document.getElementById("js-mobileNavBtnClose"),o=document.getElementById("js-mobileNav");if(t&&e&&s&&o){const a=h=>{o.classList.contains("hidden")?(o.classList.remove("hidden"),o.classList.add("flex"),t.setAttribute("aria-expanded","true"),e.classList.add("hidden"),s.classList.remove("hidden")):(o.classList.remove("flex"),o.classList.add("hidden"),t.setAttribute("aria-expanded","false"),e.classList.remove("hidden"),s.classList.add("hidden"))};window.attachedMobileNavListener||(t.addEventListener("click",a),window.attachedMobileNavListener=!0)}const c=document.querySelectorAll(".js-navlink");c.length&&c.forEach(a=>{const h=a.getAttribute("data-path"),f=window.location.pathname;h&&h===f&&(a.classList.add("text-gray-530"),a.classList.remove("text-primaryBlack"))});const r=document.getElementById("js-careerToolsBtn"),n=document.getElementById("js-careerToolsNav"),l=document.getElementById("js-pageHeader");if(r&&n&&l){const a=()=>{n.classList.add("hidden"),n.classList.remove("flex"),r.classList.remove("text-primaryBlack"),r.setAttribute("aria-expanded","false")};r.addEventListener("click",h=>{n.classList.contains("hidden")?(n.classList.add("flex"),n.classList.remove("hidden"),r.classList.add("text-primaryBlack"),r.setAttribute("aria-expanded","true"),document.addEventListener("click",function(f){f.target&&!r.contains(f.target)&&!n.contains(f.target)&&a()})):a()})}let i=!1;l&&n&&(l.addEventListener("mouseenter",()=>{window.innerWidth>1024&&(i=!0,l.style.backgroundColor="rgba(255, 255, 255, 1)")}),l.addEventListener("mouseleave",()=>{if(window.innerWidth>1024)if(i=!1,n.classList.contains("hidden")){const h=window.scrollY,f=Math.min(h/200,1);l.style.backgroundColor=`rgba(255, 255, 255, ${f})`}else l.style.backgroundColor="rgba(255, 255, 255, 1)";else l.style.backgroundColor="rgba(255, 255, 255, 0)"}));const d=()=>{const a=document.getElementById("js-pageHeader");if(a){const h=window.innerWidth;if(i){a.style.backgroundColor=h>1024?"rgba(255, 255, 255, 1)":"rgba(245, 245, 250, 0.6)",a.style.backdropFilter=h>1024?"none":"blur(8px)";return}if(h>1024){const f=window.scrollY,p=Math.min(f/200,1);a.style.backgroundColor=`rgba(255, 255, 255, ${p})`,a.style.backdropFilter="none"}else{const f=window.scrollY,p=Math.min(f/200,.6);a.style.backgroundColor=`rgba(245, 245, 250, ${p})`,a.style.backdropFilter=`blur(${p*8}px)`}}};window.addEventListener("scroll",function(){d()}),d()}function b(t){const e=[].slice.call(document.querySelectorAll(".lazy, .lazybg"));let s=new IntersectionObserver(function(o,c){o.forEach(function(r){if(r.isIntersecting){const n=r.target,l=n.tagName;if(l==="IMG")n.dataset.src&&(n.src=n.dataset.src),n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.dataset.sizes&&(n.sizes=n.dataset.sizes),n.classList.remove("lazy"),s.unobserve(n);else if(l==="PICTURE"){console.log("removing lazy from picture"),n.classList.remove("lazy"),s.unobserve(n);const i=n.parentElement?.querySelector("img.loadingImg");i&&i.remove(),n.style.position="relative",n.style.opacity="1";for(const d in n.children){const a=n.children[d];a.tagName==="SOURCE"?(a.srcset=a.dataset.srcset,a.sizes=a.dataset.sizes):a.tagName==="IMG"&&(a.src=a.dataset.src)}}else if(l==="VIDEO"){for(const i in n.children){const d=n.children[i];typeof d.tagName=="string"&&d.tagName==="SOURCE"&&(d.src=d.dataset.src)}n.load(),n.classList.remove("lazy"),s.unobserve(n)}else if(n.classList.contains("lazybg")){const i=n.dataset.lazybg;i&&(n.style.backgroundImage=`url(${i})`)}else{const i=n.dataset.lazyfunction;i?t[i]():console.error("CHECK LAZY:) ",n,l)}}})},{rootMargin:"0px 0px 500px 0px"});e.forEach(function(o){s.observe(o)})}function m(t,e){try{const s=location?.href,o=document?.referrer,c=window?.innerWidth,r={event:t,href:s,referrer:o,width:c,props:e??{},timestamp:new Date().toISOString()},n="https://flowcv.com/clientlog";if(navigator.sendBeacon){const l=new Blob([JSON.stringify(r)],{type:"application/json"});navigator.sendBeacon(n,l)}else fetch(n,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},keepalive:!0}).catch(l=>{console.error(l)})}catch(s){console.error(s)}}const u="https://flowcv.com",v="Hi everyone, check out this free resume builder!:)";function g(t){const e=Object.entries(t).filter(([,s])=>s!=null).map(([s,o])=>`${encodeURIComponent(s)}=${encodeURIComponent(String(o))}`);return e.length>0?`?${e.join("&")}`:""}function L(){try{B(),k(),x(),S(),I(),j()}catch(t){console.error(t)}}function E(t,e){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}}function w(t,e){const c={height:500,width:500,...E(500,500),location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},r=Object.keys(c).map(n=>`${n}=${c[n]}`).join(", ");window.open(t,"",r)}function k(){const t="https://twitter.com/share"+g({url:u,hashtags:"resume,jobs,career"}),e=document.getElementById("shareBtn__twitter");e&&e.addEventListener("click",s=>{w(t),m("share_flowcv",{channel:"twitter",where:"footer"})})}function B(){const t="https://linkedin.com/shareArticle"+g({url:u,mini:"true"}),e=document.getElementById("shareBtn__linkedin");e&&e.addEventListener("click",s=>{w(t),m("share_flowcv",{channel:"linkedin",where:"footer"})})}function S(){const t="https://www.reddit.com/submit"+g({url:u}),e=document.getElementById("shareBtn__reddit");e&&e.addEventListener("click",s=>{w(t),m("share_flowcv",{channel:"reddit",where:"footer"})})}function x(){const t="https://www.facebook.com/sharer/sharer.php"+g({u,quote:v}),e=document.getElementById("shareBtn__fb");e&&e.addEventListener("click",s=>{w(t),m("share_flowcv",{channel:"facebook",where:"footer"})})}function I(){const t=document.getElementById("shareBtn__wa");if(!t)return;const e="https://api.whatsapp.com/send"+g({text:u});t.addEventListener("click",s=>{w(e),m("share_flowcv",{channel:"whatsapp",where:"footer"})})}function j(){const t=document.getElementById("shareBtn__telegram");if(!t)return;const e="https://telegram.me/share/url"+g({url:u,text:"Hi, everyone:) Check out this Resume Builder!"});t.addEventListener("click",s=>{w(e),m("share_flowcv",{channel:"telegram",where:"footer"})})}function N(){let t=0;const e=document.getElementById("js-landingPageLoved-container"),s=document.getElementById("js-landingPageLoved-slider"),o=document.getElementById("js-landingPageLoved-left"),c=document.getElementById("js-landingPageLoved-right"),r=document.querySelectorAll(".js-landingPageLoved-slide"),n=r[0];if(o&&c&&s&&n&&e){const l=e.clientWidth,i=n.clientWidth,d=i*r.length;c.addEventListener("click",function(){t=Math.max(t-i,l-d),e.scroll({left:-t,behavior:"smooth"}),a()}),o.addEventListener("click",function(){t=Math.min(t+i,0),e.scroll({left:-t,behavior:"smooth"}),a()}),e.addEventListener("scroll",h=>{t=-h?.target?.scrollLeft,a()});const a=()=>{t===0?o.classList.add("text-gray-530"):o.classList.remove("text-gray-530"),t===l-d?c.classList.add("text-gray-530"):c.classList.remove("text-gray-530")};a()}}function C(){const t=document.querySelectorAll(".js-faqQuestion");t.forEach(e=>{e.addEventListener("click",()=>{const s=e.querySelector(".js-faqIcon"),o=e.querySelector(".js-faqAnswer");t.forEach(c=>{if(c!==e){const r=c.querySelector(".js-faqIcon"),n=c.querySelector(".js-faqAnswer");r&&n&&(r.classList.remove("rotate-45"),n.classList.add("-top-[9999px]"),n.classList.add("absolute"))}}),!(!s||!o)&&(s.classList.toggle("rotate-45"),o.classList.toggle("absolute"),o.classList.toggle("-top-[9999px]"))})})}function W(){if(window.templatesFilter)return;window.templatesFilter=!0;const t=document.querySelectorAll('.js-templateFilter input[type="checkbox"]');t.forEach(s=>{s.addEventListener("change",e)}),t.forEach(s=>{if(s.name==="all"){s.checked=!0;const o=s.nextElementSibling;o&&o.classList.add("bg-white")}else s.checked=!1});function e(s){const o=s.target,c=o.name;if(Array.from(document.querySelectorAll('.js-templateFilter input[type="checkbox"]')).forEach(i=>{i!==o&&(i.checked=!1,i.nextElementSibling.classList.remove("bg-white"))}),o.checked)o.nextElementSibling.classList.add("bg-white");else{o.nextElementSibling.classList.remove("bg-white");const i=document.querySelector('input[type="checkbox"][name="all"]');i&&(i.checked=!0,i.nextElementSibling.classList.add("bg-white"))}const n=o.checked?c:"all";document.querySelectorAll(".js-template").forEach(i=>{let d=i.getAttribute("data-tags");if(d){const a=d.split(",");n==="all"||a.includes(n)?i.classList.remove("hidden"):i.classList.add("hidden")}})}}function A(){const t=document.getElementById("js-webResumeOuterWrapper");if(!t)return;const e=document.getElementById("js-webResumeInnerWrapper");if(!e)return;const s=e.childNodes.length,o=e.childNodes[0];if(!o)return;const c=o.offsetWidth,r=o.offsetHeight,n=t.offsetWidth,l=Math.min(1.1,n/c);e.style.transform=`scale(${l})`,e.style.width=`${c*l}px`;const d=r*l*s+40*s;e.style.height=`${d}px`}function T(){const t=document.getElementById("js-downloadResumeBtn"),e=document.getElementsByTagName("main")[0],s=document.getElementById("js-downloadResumeSpinner"),o=document.getElementById("js-downloadErrorMessage");if(t&&e&&s&&o){const r=window.location.pathname.split("/"),n=r[r.length-1],d=`${(e.getAttribute("data-fullname")??"").replace(/,/g,"").split(" ").join("-")}-FlowCV-Resume-${O(new Date)}`;t.addEventListener("click",function(){t.style.display="none",s.classList.remove("hidden"),o.classList.add("hidden"),fetch(`https://app.flowcv.com/api/public/download_resume?token=${n}`).then(a=>a.status===429?(o.textContent="Too many requests.",o.classList.remove("hidden"),t.style.display="flex",Promise.reject(new Error("Too many requests"))):a.blob()).then(a=>{const h=window.URL.createObjectURL(a),f=document.createElement("a");f.href=h,f.download=`${d}.pdf`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(h),t.style.display="flex",s.classList.add("hidden")}).catch(a=>{t.style.display="flex",s.classList.add("hidden")}).finally(()=>{s.classList.add("hidden"),t.style.display="flex"})})}}function O(t){let e=t.getFullYear(),s=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${e}${s}${o}`}function _(t,e){let s,o,c;return function(...r){const n=this;s?(clearTimeout(o),o=setTimeout(()=>{Date.now()-c>=e&&(t.apply(n,r),c=Date.now())},e-(Date.now()-c))):(t.apply(n,r),c=Date.now(),s=!0,setTimeout(()=>{s=!1},e))}}function $(){if(m("page_view",{}),document.addEventListener("click",t=>{let e=t.target;for(;e&&e!==document.body;){const s=e.getAttribute("data-evt");if(s){m("click",{target:s,text:e.textContent??""});break}if(e.tagName==="A"||e.tagName==="BUTTON")break;e=e.parentElement}}),window.location.pathname==="/"){const t=["0","10","20","40","60","80","100"],e=new Set,s=()=>{const c=document.documentElement,r=c.scrollHeight-c.clientHeight,n=window.scrollY||c.scrollTop;let l;r<=0?l=100:l=Math.min(100,Math.round(n/r*100)),(n===0||r<=0)&&!e.has("0")&&(m("scroll_depth",{scrollPercent:"0"}),e.add("0"));for(const i of t){const d=parseInt(i,10);l>=d&&!e.has(i)&&(m("scroll_depth",{scrollPercent:i}),e.add(i))}r>0&&n+c.clientHeight>=c.scrollHeight&&!e.has("100")&&(m("scroll_depth",{scrollPercent:"100"}),e.add("100"))},o=_(s,250);window.addEventListener("scroll",o),s()}}window.addEventListener("DOMContentLoaded",()=>{y(),b({}),L(),N(),C(),A(),T(),W(),$()});window.addEventListener("resize",function(){y()});window.addEventListener("error",function(t){console.error("event",t)});
